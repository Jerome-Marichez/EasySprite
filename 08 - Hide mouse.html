<!doctype html>
<html lang="en">
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta charset="utf-8" />
	<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1"> 
	<title>initMouse</title>
	
	<!-- EasySprite -->
	<script src="EasySprite.js"></script>
	
	<!-- Center rendergame -->
	<style>
		#game {  display: block; margin: 0 auto;}
	</style>
	
</head>

<body>
	<canvas id='game'></canvas>
	
	<script>
	var countClic = 0;
	
	openScreen("game", 0, 0, 800, 600);
	
	// Init mouse : option true hide mouse. 
	initMouse(true);
		
	var ball = loadSprite("assets/image/ball.png", onLoadSuccess)
	
	function onLoadSuccess() {
		anchorSprite(ball, 0.5, 0.5);
		renderGame()
	}
	
	function renderGame() {
		var x = mouseX();
		var y = mouseY();
	
		clearScreen("green");

		if (x + y >=0) { 
			displaySprite(ball, x, y)
		} else {
			displaySprite(ball, ball.x, ball.y);
		}	
	
		displayText("x/y " + x + " / " + y, 40, 40, "Arial", 25, "white");
	
		displayText("mouseState() " + mouseState(), 40, 80, "Arial", 25, "white");

		displayText("Count Clicks " + countClic, 40, 120, "Arial", 25, "white");
		
		if (mouseButton() == true) {countClic ++};

		requestAnimationFrame(renderGame);
	}
	</script>
</body>
</html>